mse version:		2.1.2
game:				magic
short name:			Includes Test
icon:				card_sample.png
position hint:		0000

version:			2024-01-29
depends on:
	package:			magic.mse-game
	version:			2014-06-25
depends on:
	package:			magic-mana-large.mse-symbol-font
	version:			2007-09-23
depends on:
	package:			magic-mana-small.mse-symbol-font
	version:			2007-09-23
depends on:
	package:			magic-mainframe-extras.mse-include
	version:			2007-09-23

depends on:
	package:			magic-watermarks.mse-include
	version:			2024-01-29
depends on:
	package:			magic-identity-new.mse-include
	version:			2024-01-29
depends on:
	package:			magic-modules.mse-include
	version:			2024-05-20

card width:			2400
card height:		1239
card dpi:			300



init script:
	faces_coordinates :=
	{
		[
			[
				left: 50,
				top: 50,
				width: 744,
				height: 1039
			],
			[
				left: 824,
				top: 100,
				width: 375,
				height: 523
			],
			[
				left: 1600,
				top: 80,
				width: 744,
				height: 1039
			]
		]
	}
	
	template_prefix :=
	[
		card:			"card/",
		pt:				"pt/",
		stamprim:		"stamprim/",
		nonstamprim:	"nonstamprim/",
		identity:		"/magic-identity-new.mse-include/"
	]
	template_suffix :=
	[
		card:			"card.png",
		pt:				"pt.png",
		stamprim:		"stamprim.png",
		nonstamprim:	"nonstamprim.png",
		identity:		"identity.png"
	]
	
	template := { template_prefix[type] + input + template_suffix[type] }
	land_template := { template_prefix[type] + (if input == "a" then "c" else input) + template_suffix[type] }
	
	mana_t :=			{ if styling.tap_symbol == "diagonal T" then "older" else styling.tap_symbol }
	guild_mana :=		{ styling.use_guild_mana_symbols }
	ancestral_mana :=	{ styling.use_ancestral_mana_symbols }
	is_promo :=			{ styling.promo }
	is_unsorted :=		{ styling.remove_from_autocount }
	
	has_identity :=		{ styling.color_indicator_dot }
	has_identity_2 :=	{ styling.color_indicator_dot_2 }
	has_identity_3 :=	{ styling.color_indicator_dot_3 }
	
	flavor_bar_disabled_3 := { true }
	
	card_stamp_disabled_3 := { true }
	
	loyalty_face := { 3 }
	loyalty_text_field := { 3 }
	
	loyalty_offset_top := { 0 }
	loyalty_offset_left := { 0 }
	loyalty_offset_width := { 0 }
	loyalty_offset_height := { 0 }
	
	loyalty_cost_offset_top := { 0 }
	loyalty_cost_offset_left := { 0 }
	loyalty_cost_offset_width := { 0 }
	loyalty_cost_offset_height := { 0 }
	
	loyalty_cost_offset_text_margin := { 0 }
	
	loyalty_textbox_mask :=
	{
		"/magic-includes-test.mse-style/textbox_mask.png"
	}
	
	
	
	
	
	#include file:	/magic-modules.mse-include/loyalty/init_script
	
	swap_fonts_type_default := [
		name: {"Beleren Bold"},
		size: {26},
		color: {"black"},
		vertical: {0},
		italic: {""}
	]
	
	swap_fonts_name_default := [
		name: {"Beleren Bold"},
		size: {30},
		color: {"black"},
		vertical: {0},
		italic: {""}
	]
	
	swap_fonts_name3_default := [
		name: {"Beleren Bold"},
		size: {30},
		color: {"black"},
		vertical: {0},
		italic: {""}
	]

############################################################## Extra style options

include file:	/magic-modules.mse-include/loyalty/styling_fields
styling field:
	type:			boolean
	name:			color indicator dot
	description:	Use a dot in the typeline to indicate card color?
	initial:		no
styling field:
	type:			boolean
	name:			color indicator dot 2
	description:	Use a dot in the typeline to indicate card color?
	initial:		no
styling field:
	type:			boolean
	name:			color indicator dot 3
	description:	Use a dot in the typeline to indicate card color?
	initial:		no
styling field:
	type:			choice
	name:			stamp behavior
	description:	Which rarities should have stamps. Not supported on all frames.
	include file:	/magic-modules.mse-include/stamps/behavior_choices
	initial:		rare/mythic foil, un/common not stamped
styling field:
	type:			choice
	name:			corner shape
	description:	The default shape of corners for cards
	include file:	/magic-modules.mse-include/corners/choices
	initial:		rounded and antialiased
styling field:
	type:			boolean
	name:			remove from autocount
	description:	Removes the automatic card number for specific cards, to allow for overcounted cards like in Planeswalker Decks.
	initial:		no
styling field:
	type:			boolean
	name:			promo
	description:	Is this card a promo card, with the "P" rarity?
	initial:		no
styling field:
	type:			color
	name:			copyright text color
	description:	Color of the copyright, illustrator, and set code text.
	choice:			white
	choice:			black
	initial:		white
	allow custom:	true
styling field:
	type:			boolean
	name:			inverted common symbol
	description:	Enables ancestral's modified generic mana.
	initial:		no
styling field:
	type:			boolean
	name:			use ancestral mana symbols
	description:	Enables ancestral's modified generic mana.
	initial:		no
styling field:
	type:			boolean
	name:			use guild mana symbols
	description:	Use the Ravnica guild symbols instead of the official half/half circles for hybrid mana.
	initial:		no
styling field:
	type:			choice
	name:			tap symbol
	description:	What tap and untap symbols should be used on cards?
	choice:			modern
	choice:			old
	choice:			diagonal T
	initial:		modern
styling field:
	type:			text
	name:			name font
	description:	Font used for the name on the front of the card. Hover your mouse over the font file to see it's details in a yellow popup, and write it's Title here.
styling field:
	type:			text
	name:			text font
	description:	Font used for the rule text. Hover your mouse over the font file to see it's details in a yellow popup, and write it's Title here.
styling field:
	type:			text
	name:			text italic font
	description:	Font used for the flavor text and reminder texts. Hover your mouse over the font file to see it's details in a yellow popup, and write it's Title here.
styling style:
	use guild mana symbols:
		choice images:
			yes:				/magic-mana-small.mse-symbol-font/mana_guild_rg.png
			no:					/magic-mana-small.mse-symbol-font/mana_rg.png
	tap symbol:
		render style:	both
		choice images:
			modern:				/magic-mana-large.mse-symbol-font/mana_t.png
			old:				/magic-mana-large.mse-symbol-font/mana_t_old.png
			diagonal T:			/magic-mana-large.mse-symbol-font/mana_t_older.png

############################################################## Card fields

card style:
	border color:
		left:				0
		top:				0
		width:				{ stylesheet.card_width }
		height:				{ stylesheet.card_height }
		z index:			0
	card color:
		left:				{ face_coordinates_map(1).left }
		top:				{ face_coordinates_map(1).top }
		width:				{ face_coordinates_map(1).width }
		height:				{ face_coordinates_map(1).height }
		z index:			210
		popup style:		in place
		render style:		image
		image:				rcard.png
	card color 2:
		left:				{ face_coordinates_map(2).left }
		top:				{ face_coordinates_map(2).top }
		width:				{ face_coordinates_map(2).width }
		height:				{ face_coordinates_map(2).height }
		z index:			210
		popup style:		in place
		render style:		image
		image:				rcard.png
	card color 3:
		left:				{ face_coordinates_map(3).left }
		top:				{ face_coordinates_map(3).top }
		width:				{ face_coordinates_map(3).width }
		height:				{ face_coordinates_map(3).height }
		z index:			210
		popup style:		in place
		render style:		image
		image:				glcard.jpg
	#type:
	#	left:				32
	#	top:				295
	#	right:				343
	#	height:				27
	#	z index:			1000
	#	alignment:			middle left shrink-overflow
	#	font:
	#		name:				{ if styling.text_font == "" then "Beleren Bold" else styling.text_font }
	#		size:				13
	#		color:				black
	#		separator color:	red
	#type 2:
	#	left:				932
	#	top:				295
	#	right:				343
	#	height:				27
	#	z index:			1000
	#	alignment:			middle left shrink-overflow
	#	font:
	#		name:				{ if styling.text_font == "" then "Beleren Bold" else styling.text_font }
	#		size:				13
	#		color:				black
	#		separator color:	red
	#type 3:
	#	left:				932
	#	top:				395
	#	right:				343
	#	height:				27
	#	z index:			1000
	#	alignment:			middle left shrink-overflow
	#	font:
	#		name:				{ if styling.text_font == "" then "Beleren Bold" else styling.text_font }
	#		size:				13
	#		color:				black
	#		separator color:	red
	#rarity:
	#	right:				347
	#	top:				296
	#	width:				26
	#	height:				26
	#	z index:			1010
	#	alignment:			middle right
	#	render style:		image
	#	choice images:
	#		basic land:		{ symbol_variation(symbol: set.symbol, variation: "common") }
	#		common:			{ symbol_variation(symbol: set.symbol, variation: "common") }
	#		uncommon:		{ symbol_variation(symbol: set.symbol, variation: "uncommon") }
	#		rare:			{ symbol_variation(symbol: set.symbol, variation: "rare") }
	#		mythic rare:	{ symbol_variation(symbol: set.symbol, variation: "mythic rare") }
	#		special:		{ symbol_variation(symbol: set.symbol, variation: "special") }
	#		masterpiece:	{ symbol_variation(symbol: set.masterpiece_symbol, variation: "mythic rare") }
	#rarity:
	#	right:				1147
	#	top:				296
	#	width:				26
	#	height:				26
	#	z index:			1010
	#	alignment:			middle right
	#	render style:		image
	#	choice images:
	#		basic land:		{ symbol_variation(symbol: set.symbol, variation: "common") }
	#		common:			{ symbol_variation(symbol: set.symbol, variation: "common") }
	#		uncommon:		{ symbol_variation(symbol: set.symbol, variation: "uncommon") }
	#		rare:			{ symbol_variation(symbol: set.symbol, variation: "rare") }
	#		mythic rare:	{ symbol_variation(symbol: set.symbol, variation: "mythic rare") }
	#		special:		{ symbol_variation(symbol: set.symbol, variation: "special") }
	#		masterpiece:	{ symbol_variation(symbol: set.masterpiece_symbol, variation: "mythic rare") }
	#
	text:
		left:				{ face_coordinates_map(1).left+60 }
		top:				{ face_coordinates_map(1).top+656 }
		width:				{ face_coordinates_map(1).width-120 }
		height:				{ face_coordinates_map(1).height/3-53 }
		z index:			2000
		line height hard:	{ if is_modal(card.rule_text) then 0.9 else 1.2 }
		line height line:	1.5
		line height soft:	0.9
		line height hard max:	{ if is_modal(card.rule_text) then 1.0 else 1.3 }
		line height line max:	2.2
		alignment:			middle left
		font:
			name:				MPlantin
			italic name:		MPlantin-Italic
			size:				26
			scale down to:		6
			color:				black
		symbol font:
			name:				magic-mana-small
			size:				26
			scale down to:		6
	text 2:
		left:				{ face_coordinates_map(2).left+60 }
		top:				{ face_coordinates_map(2).top+656 }
		width:				{ face_coordinates_map(2).width-120 }
		height:				{ face_coordinates_map(2).height/3-53 }
		z index:			2000
		line height hard:	{ if is_modal(card.rule_text) then 0.9 else 1.2 }
		line height line:	1.5
		line height soft:	0.9
		line height hard max:	{ if is_modal(card.rule_text) then 1.0 else 1.3 }
		line height line max:	2.2
		alignment:			middle left
		font:
			name:				MPlantin
			italic name:		MPlantin-Italic
			size:				26
			scale down to:		6
			color:				black
		symbol font:
			name:				magic-mana-small
			size:				26
			scale down to:		6
	text 3:
		left:				{ face_coordinates_map(3).left+60 }
		top:				{ face_coordinates_map(3).top+656 }
		width:				{ face_coordinates_map(3).width-120 }
		height:				{ face_coordinates_map(3).height/3-53 }
		z index:			2000
		line height hard:	{ if is_modal(card.rule_text) then 0.9 else 1.2 }
		line height line:	1.5
		line height soft:	0.9
		line height hard max:	{ if is_modal(card.rule_text) then 1.0 else 1.3 }
		line height line max:	2.2
		alignment:			middle left
		font:
			name:				MPlantin
			italic name:		MPlantin-Italic
			size:				26
			scale down to:		6
			color:				{ styling.rule_text_color }
		symbol font:
			name:				magic-mana-small
			size:				26
			scale down to:		6
	############################# Copyright stuff
	pt:
		left:				516
		top:				410
		width:				80
		height:				37
		z index:			8100
		alignment:			center middle shrink-overflow
		font:
			name:				Beleren Bold
			size:				26
			color:				black
			separator color:	red
	pt 2:
		left:				1216
		top:				410
		width:				80
		height:				37
		z index:			8100
		alignment:			center middle shrink-overflow
		font:
			name:				Beleren Bold
			size:				26
			color:				black
			separator color:	red
	pt 3:
		left:				1916
		top:				410
		width:				80
		height:				37
		z index:			8100
		alignment:			center middle shrink-overflow
		font:
			name:				Beleren Bold
			size:				26
			color:				black
			separator color:	red
	
include file: /magic-modules.mse-include/stamps/card_fields_tfc
include file: /magic-modules.mse-include/corners/card_fields_tfc
include file: /magic-modules.mse-include/watermarks/card_fields_tfc
include file: /magic-modules.mse-include/information/card_fields_tfc
include file: /magic-modules.mse-include/separators/card_fields_tfc
include file: /magic-modules.mse-include/types/card_fields_tfc
include file: /magic-modules.mse-include/namelines/card_fields_tfc


#include file:	/magic-modules.mse-include/loyalty/card_fields

############################################################## Extra card fields

extra card field:
	type:				choice
	name:				flavor bar
	editable:			false
	save value:			false
	show statistics:	false
	choice:				flavor bar
extra card field:
	type:				choice
	name:				pt box
	editable:			false
	save value:			false
	show statistics:	false
	choice:				pt box
extra card field:
	type:				color
	name:				card stamp border
	script:				card.border_color
	editable:			false
	save value:			false
	show statistics:	false

extra card style:
	#flavor bar:
	#	left:				0
	#	top:				{ bar_equation() - 1 }
	#	width:				375
	#	height:				4
	#	z index:			610
	#	visible:			{ styling.flavor_bar and card.rule_text != "" and remove_tags(card.flavor_text) != "" }
	#	render style:		image
	#	image:				/magic-modules.mse-include/separators/flavor_bar.png
	pt box:
		left:				0
		top:				0
		width:				375
		height:				523
		z index:			820
		visible:			{ card.pt != "" }
		render style:		image
		image:				rpt.png
	card stamp border:
		left:				0
		top:				0
		width:				375
		height:				523
		z index:			600
		visible:			{ is_stamped() }
		mask:				border_stamp_mask.png
